# 5장 책임 할당하기(a.k.a GRASP 패턴 알아보기)

# 1 책임 주도 설계를 향해

## 데이터보다 행동을 먼저 결정하라

'이 객체가 수행해야 하는 책임은 무엇인가' 를 결정한 후, '이 책임을 수행하는 데 필요한 데이터는 무엇인가' 를 결정하자.

## 협력이라는 문맥 안에서 책임을 결정하라

- 책임은 객체의 입장이 아니라 객체가 참여하는 협력에 적합해야 한다.
- **메시지를 결정한 후 객체를 선택해야 한다.**
- 메시지가 존재하기 때문에 그 메시지를 처리할 객체가 필요한 것!
    - 메시지가 객체를 선택하게 해야한다!

# 2 책임 할당을 위한 GRASP 패턴

## 도메인 개념에서 출발하기

- 올바른 도메인 모델이란 존재하지 않는다.
- 도메인 모델 안에 포함된 개념과 관계는 구현의 기반이 되어야 한다.
- 도메인 모델이 구현을 염두에 두고 구조화되는 것이 바람직하다.

## 정보 전문가에게 책임 할당하라 → INFORMATION EXPERT 패턴

객체가 자신이 소유하고 있는 정보와 관련된 작업을 수행하도록 하자.

(여기서 정보 ≠ 데이터. 반드시 정보는 저장해야 하는 것이 아니다)

## 높은 응집도 → HIGH COHESION 패턴

하나의 클래스에 대해, 서로 다른 이유로 변경되는 책임을 짊어지게 하지 말자.

## 낮은 결합도 → LOW COUPLING 패턴

설계의 전체적 결합도가 낮게 유지되게 책임을 할당하라.

## 창조자에게 객체 생성 책임을 할당하라 → CREATOR 패턴

이미 생성하는 객체를 잘 알고 있거나, 긴밀하게 사용하거나, 초기화에 필요한 데이터를 가지고 있는 객체에게 할당!

# 3 구현을 통한 검증

## 클래스 응집도 판단하기 **

응집도가 낮은 케이스는 다음 3가지 경우가 대표적이다.

1 클래스가 하나 이상의 이유로 변경되야 할 경우

2 클래스의 인스턴스를 초기화하는 시점에 경우에 따라 서로 다른 속성들을 초기화하고 있는 경우

3 메서드 그룹이 속성 그룹을 사용하는지 여부로 나뉘는 경우

## 다형성을 통해 분리하기

### POLYMORPHISM  패턴

객체의 타입에 따라 변하는 행동이 있다면, 타입을 분리하고 변화하는 행동을 각 타입의 책임으로 할당하라.

### PROTECTED VARIATIONS 패턴

설계에서 변하는 것이 무엇인지 파악하고, 변경되는 것을 캡슐화하라!

---

# 인상깊었던 점/찾아 보게된 점

- GRASP 패턴(by 김대곤님) - 총 9가지로 구성.

    [http://www.hanbit.co.kr/channel/category/category_view.html?cms_code=CMS8586826397](http://www.hanbit.co.kr/channel/category/category_view.html?cms_code=CMS8586826397)